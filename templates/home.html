{% extends 'index.html' %} {% block content %} {%url 'nueva_publicacion' as nueva_publicacion %}
<div class="w-screen h-screen flex">
  <div class="w-auto">{% include 'navbar.html'%}</div>
  <div class="absolute top-10 right-10 z-50">
    <a
      href="{{nueva_publicacion}}"
      class="bg-blue-500 text-white px-4 py-2 rounded"
      >Crear nueva publicación</a
    >
  </div>
  <main
    class="flex flex-col items-center bg-gray-100 relative overflow-y-scroll pt-20 w-full"
  >
    {%if publicaciones%} {%for public in publicaciones%}

    <div
      class="bg-white rounded-2xl p-6 shadow-sm border border-gray-100 card-hover fade-in-up w-full max-w-2xl mb-3"
    >
      <div class="flex items-start space-x-4">
        <div
          class="w-20 h-20 bg-gradient-to-br from-blue-400 to-purple-500 rounded-xl flex items-center justify-center flex-shrink-0"
        >
          <svg
            class="w-8 h-8 text-white"
            fill="none"
            stroke="currentColor"
            viewBox="0 0 24 24"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"
            ></path>
          </svg>
        </div>
        <div class="flex-1">
          <div class="flex items-center justify-between mb-2">
            <span
              class="bg-blue-100 text-blue-800 text-xs font-semibold px-3 py-1 rounded-full"
              >{{ public.categoria }}</span
            >
            <div class="flex items-center space-x-4 text-sm text-gray-500">
              <span class="flex items-center space-x-1">
                <svg
                class="w-4 h-"
                  xmlns="http://www.w3.org/2000/svg"
                  xml:space="preserve"
                  width="100%"
                  height="100%"
                  version="1.1"
                  style="
                    shape-rendering: geometricPrecision;
                    text-rendering: geometricPrecision;
                    image-rendering: optimizeQuality;
                    fill-rule: evenodd;
                    clip-rule: evenodd;
                  "
                  viewBox="0 0 500 500"
                  xmlns:xlink="http://www.w3.org/1999/xlink"
                >
                  <g id="Layer_x0020_1">
                    <metadata id="CorelCorpID_0Corel-Layer" />
                    <path
                      class="fil1"
                      d="M126 45l248 0c58,0 106,48 106,106l0 86c0,58 -48,106 -106,106l-107 0 -104 104c-1,0 -10,11 -22,7 -8,-2 -13,-9 -13,-17l0 -94c-60,0 -108,-46 -108,-106l0 -86c0,-58 48,-106 106,-106zm-5 220c-6,0 -10,-4 -10,-10 0,-6 4,-10 10,-10l143 0c6,0 10,4 10,10 0,6 -4,10 -10,10l-143 0zm0 -57c-6,0 -10,-5 -10,-10 0,-6 4,-10 10,-10l258 0c6,0 10,4 10,10 0,5 -4,10 -10,10l-258 0zm0 -58c-6,0 -10,-4 -10,-10 0,-6 4,-10 10,-10l207 0c5,0 10,4 10,10 0,6 -5,10 -10,10l-207 0zm253 -77l-248 0c-43,0 -78,35 -78,78l0 86c0,43 35,78 78,78l5 0c13,0 25,12 25,25l0 74 99 -99 119 0c43,0 78,-35 78,-78l0 -86c0,-43 -35,-78 -78,-78z"
                    />
                  </g>
                </svg>
                
                <p class="text-sm text-gray-500">
                  {{ public.comentarios.count }}
                </p>
              </span>
            </div>
          </div>
          <a
            href="{% url 'detalle_publicacion' public.id %}"
            class="text-xl font-bold text-gray-900 mb-2 hover:text-blue-600 cursor-pointer"
          >
            {{ public.titulo }}
          </a>
          <p class="text-gray-600 mb-4 leading-relaxed">
            {{ public.contenido|truncatewords:30 }}
          </p>
          <div class="flex items-center justify-between">
            <div class="flex items-center space-x-3">
              <div
                class="w-8 h-8 bg-gradient-to-r from-green-400 to-blue-500 rounded-full flex items-center justify-center"
              >
                <span class="text-white text-sm font-semibold">JP</span>
              </div>
              <div>
                <p class="text-sm font-medium text-gray-900">
                  {{ public.autor.first_name}} {{public.autor.last_name}}
                </p>
                <p class="text-xs text-gray-500">
                  {{ public.fecha_creacion|date:"d M Y" }}
                </p>
              </div>
            </div>
            <a
              href="{% url 'detalle_publicacion' public.id %}"
              class="text-blue-600 hover:text-blue-700 font-medium text-sm"
            >
              Leer más →
            </a>
          </div>
        </div>
      </div>
    </div>
    <!-- fin -->

    {%endfor%} {%else%}
    <p>No hay publicaciones disponibles.</p>
    {%endif%}
  </main>
</div>

{%endblock%}
